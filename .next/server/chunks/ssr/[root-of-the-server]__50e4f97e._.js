module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},57772,(a,b,c)=>{"use strict";b.exports=a.r(7332).vendored.contexts.AppRouterContext},89271,(a,b,c)=>{"use strict";b.exports=a.r(7332).vendored.contexts.HooksClientContext},73984,(a,b,c)=>{"use strict";b.exports=a.r(7332).vendored.contexts.ServerInsertedHtml},69013,(a,b,c)=>{"use strict";b.exports=a.r(7332).vendored["react-ssr"].ReactServerDOMTurbopackClient},35924,a=>{"use strict";a.i(61153);let b=()=>{throw Error("Database service can only be used in client-side code")};a.s(["appointmentService",0,{async getAll(){try{let{data:a,error:c}=await b().from("appointments").select("*, patients(name, email), dentists(name)").order("date",{ascending:!1});if(c)throw console.error("[v0] Supabase error fetching all appointments:",c),Error(`Failed to fetch appointments: ${c.message}`);return a}catch(a){throw console.error("[v0] Error in appointmentService.getAll():",a instanceof Error?a.message:JSON.stringify(a)),a}},async getByPatientId(a){try{let{data:c,error:d}=await b().from("appointments").select("*, patients(name), dentists(name)").eq("patient_id",a).order("date",{ascending:!1});if(d)throw console.error("[v0] Supabase error fetching patient appointments:",d),Error(`Failed to fetch patient appointments: ${d.message}`);return c}catch(a){throw console.error("[v0] Error in appointmentService.getByPatientId():",a instanceof Error?a.message:JSON.stringify(a)),a}},async getByDentistId(a){try{let{data:c,error:d}=await b().from("appointments").select("*, patients(name, email), dentists(name)").eq("dentist_id",a).order("date",{ascending:!1});if(d)throw console.error("[v0] Supabase error fetching dentist appointments:",d),Error(`Failed to fetch dentist appointments: ${d.message}`);return c}catch(a){throw console.error("[v0] Error in appointmentService.getByDentistId():",a instanceof Error?a.message:JSON.stringify(a)),a}},async create(a){try{let{data:c,error:d}=await b().from("appointments").insert([a]).select("*, patients(name), dentists(name)").single();if(d)throw console.error("[v0] Supabase error creating appointment:",d),Error(`Failed to create appointment: ${d.message}`);return c}catch(a){throw console.error("[v0] Error in appointmentService.create():",a instanceof Error?a.message:JSON.stringify(a)),a}},async update(a,c){try{let{data:d,error:e}=await b().from("appointments").update({...c,updated_at:new Date}).eq("id",a).select("*, patients(name), dentists(name)").single();if(e)throw console.error("[v0] Supabase error updating appointment:",e),Error(`Failed to update appointment: ${e.message}`);return d}catch(a){throw console.error("[v0] Error in appointmentService.update():",a instanceof Error?a.message:JSON.stringify(a)),a}},async delete(a){try{let{error:c}=await b().from("appointments").delete().eq("id",a);if(c)throw console.error("[v0] Supabase error deleting appointment:",c),Error(`Failed to delete appointment: ${c.message}`)}catch(a){throw console.error("[v0] Error in appointmentService.delete():",a instanceof Error?a.message:JSON.stringify(a)),a}},async changeStatus(a,b){return this.update(a,{status:b})}},"dentistService",0,{async getAll(){let{data:a,error:c}=await b().from("dentists").select("*").order("name",{ascending:!0});if(c)throw console.error("Supabase error fetching dentists:",c),Error(`Failed to fetch dentists: ${c.message}`);return a},async getById(a){let{data:c,error:d}=await b().from("dentists").select("*").eq("id",a).single();if(d)throw d;return c},async create(a){let{data:c,error:d}=await b().from("dentists").insert([a]).select().single();if(d)throw console.error("Supabase error creating dentist:",d),Error(`Failed to create dentist: ${d.message}`);return c},async update(a,c){let{data:d,error:e}=await b().from("dentists").update({...c,updated_at:new Date}).eq("id",a).select().single();if(e)throw e;return d},async delete(a){let{error:c}=await b().from("dentists").delete().eq("id",a);if(c)throw c}},"inventoryService",0,{async getAll(){let{data:a,error:c}=await b().from("inventory").select("*").order("status",{ascending:!1});if(c)throw c;return a},async getById(a){let{data:c,error:d}=await b().from("inventory").select("*").eq("id",a).single();if(d)throw d;return c},async create(a){try{let c,d=b();try{let a=await d.auth.getSession();c=a?.data?.session?.access_token||a?.data?.access_token}catch(a){}let e={"Content-Type":"application/json"};c&&(e.Authorization=`Bearer ${c}`);let f=await fetch("/api/inventory/create",{method:"POST",headers:e,body:JSON.stringify(a)}),g=await f.json();if(!f.ok){let a=g?.error||`Status ${f.status}`;throw console.error("[v0] Inventory create API error:",a),Error(a)}return g}catch(b){let a=b instanceof Error?b.message:JSON.stringify(b);throw console.error("[v0] Failed to call inventory create API:",a),Error(a)}},async update(a,c){let d=(a=>{if(!a||"object"!=typeof a||Array.isArray(a))return a;let b={};return Object.entries(a).forEach(([a,c])=>{b[a.replace(/[A-Z]/g,a=>`_${a.toLowerCase()}`)]=c}),b})(c),{data:e,error:f}=await b().from("inventory").update({...d,updated_at:new Date}).eq("id",a).select().single();if(f)throw f;return e},async delete(a){let{error:c}=await b().from("inventory").delete().eq("id",a);if(c)throw c},async getLowStock(){let{data:a,error:c}=await b().from("inventory").select("*").or("status.eq.low,status.eq.critical");if(c)throw c;return a}},"patientService",0,{async getAll(){let{data:a,error:c}=await b().from("patients").select("*").order("created_at",{ascending:!1});if(c)throw console.error("Supabase error fetching patients:",c),Error(`Failed to fetch patients: ${c.message}`);return a},async getById(a){let{data:c,error:d}=await b().from("patients").select("*").eq("id",a).single();if(d)throw d;return c},async getByName(a){try{let{data:c,error:d}=await b().from("patients").select("*").ilike("name",a).limit(1);if(d)throw console.error("[v0] Supabase error fetching patient by name:",d),Error(`Failed to fetch patient by name: ${d.message}`);return c&&c.length>0?c[0]:null}catch(a){throw console.error("[v0] Error in patientService.getByName():",a instanceof Error?a.message:JSON.stringify(a)),a}},async getByEmail(a){try{let{data:c,error:d}=await b().from("patients").select("*").eq("email",a).limit(1);if(d)throw console.error("[v0] Supabase error fetching patient by email:",d),Error(`Failed to fetch patient by email: ${d.message}`);return c&&c.length>0?c[0]:null}catch(a){throw console.error("[v0] Error in patientService.getByEmail():",a instanceof Error?a.message:JSON.stringify(a)),a}},async create(a){let{data:c,error:d}=await b().from("patients").insert([a]).select().single();if(d)throw console.error("Supabase error creating patient:",d),Error(`Failed to create patient: ${d.message}`);return c},async update(a,c){let{data:d,error:e}=await b().from("patients").update({...c,updated_at:new Date}).eq("id",a).select().single();if(e)throw e;return d},async delete(a){let{error:c}=await b().from("patients").delete().eq("id",a);if(c)throw c}},"paymentService",0,{async getAll(){let{data:a,error:c}=await b().from("payments").select("*, patients(name, email), dentists(name)").order("date",{ascending:!1});if(c)throw c;return a},async getByPatientId(a){try{let{data:c,error:d}=await b().from("payments").select("*, dentists(name)").eq("patient_id",a).order("date",{ascending:!1});if(d)return console.warn("Error fetching patient payments:",d.message),[];return c||[]}catch(a){return console.warn("Exception fetching patient payments:",a instanceof Error?a.message:a),[]}},async getByDentistId(a){try{let{data:c,error:d}=await b().from("payments").select("*, patients(name, email)").eq("dentist_id",a).order("date",{ascending:!1});if(d)return console.warn("Error fetching dentist payments:",d.message),[];return c||[]}catch(a){return console.warn("Exception fetching dentist payments:",a instanceof Error?a.message:a),[]}},async create(a){let{data:c,error:d}=await b().from("payments").insert([a]).select("*, patients(name), dentists(name)").single();if(d)throw d;return c},async update(a,c){let{data:d,error:e}=await b().from("payments").update({...c,updated_at:new Date}).eq("id",a).select("*, patients(name), dentists(name)").single();if(e)throw e;return d},async delete(a){let{error:c}=await b().from("payments").delete().eq("id",a);if(c)throw c},async getPatientBalance(a){try{let{data:c,error:d}=await b().from("payments").select("amount, status").eq("patient_id",a);if(d)return console.warn("Error fetching patient balance:",d.message),{totalBalance:0,totalPaid:0,total:0};let e=0,f=0;return c?.forEach(a=>{"paid"===a.status?f+=a.amount:"unpaid"===a.status?e+=a.amount:"partial"===a.status&&(e+=a.amount)}),{totalBalance:e,totalPaid:f,total:e+f}}catch(a){return console.warn("Exception fetching patient balance:",a instanceof Error?a.message:a),{totalBalance:0,totalPaid:0,total:0}}},async getDentistEarnings(a){try{let{data:c,error:d}=await b().from("payments").select("amount, status, appointment_id, appointments(status)").eq("dentist_id",a);if(d)return console.warn("Error fetching dentist earnings:",d.message),{totalEarned:0,totalPending:0,totalCompleted:0,count:0};let e=0,f=0,g=0;return c?.forEach(a=>{let b=a.appointments?.status;"completed"===b?(e+=a.amount,g+=1):"confirmed"===b?f+=a.amount:"paid"===a.status?(e+=a.amount,g+=1):"unpaid"===a.status?f+=a.amount:"partial"===a.status&&(e+=a.amount)}),{totalEarned:e,totalPending:f,totalCompleted:g,count:c?.length||0}}catch(a){return console.warn("Exception fetching dentist earnings:",a instanceof Error?a.message:a),{totalEarned:0,totalPending:0,totalCompleted:0,count:0}}}},"supplyRequestService",0,{async getAll(){let{data:a,error:c}=await b().from("supply_requests").select("*, inventory(name, category), staff(name)").order("requested_date",{ascending:!1});if(c)throw c;if(a&&a.length>0&&a[0].dentist_id)try{let c=[...new Set(a.map(a=>a.dentist_id).filter(Boolean))],{data:d}=await b().from("dentists").select("id, name").in("id",c),e=Object.fromEntries(d?.map(a=>[a.id,a])||[]);return a.map(a=>({...a,dentists:a.dentist_id?e[a.dentist_id]:null}))}catch(a){console.warn("[v0] Could not fetch dentist info:",a)}return a},async getPending(){let{data:a,error:c}=await b().from("supply_requests").select("*, inventory(name, category), staff(name)").eq("status","pending");if(c)throw c;if(a&&a.length>0&&a[0].dentist_id)try{let c=[...new Set(a.map(a=>a.dentist_id).filter(Boolean))],{data:d}=await b().from("dentists").select("id, name").in("id",c),e=Object.fromEntries(d?.map(a=>[a.id,a])||[]);return a.map(a=>({...a,dentists:a.dentist_id?e[a.dentist_id]:null}))}catch(a){console.warn("[v0] Could not fetch dentist info:",a)}return a},async create(a){try{let{data:c,error:d}=await b().from("supply_requests").insert([a]).select("*, inventory(name, category), staff(name)").single();if(d)throw console.error("[v0] Supabase error creating supply request:",d),Error(`Failed to create supply request: ${d.message}`);if(c&&c.dentist_id)try{let{data:a}=await b().from("dentists").select("id, name").eq("id",c.dentist_id).single();a&&(c.dentists=a)}catch(a){console.warn("[v0] Could not fetch dentist info:",a)}return c}catch(a){throw console.error("[v0] Exception in supplyRequestService.create:",a),a}},async update(a,c){let{data:d,error:e}=await b().from("supply_requests").update({...c,updated_at:new Date}).eq("id",a).select().single();if(e)throw e;return d}},"treatmentRecordService",0,{async getByPatientId(a){let{data:c,error:d}=await b().from("treatment_records").select("*, treatments(name, category), dentists(name)").eq("patient_id",a).order("date",{ascending:!1});if(d)throw d;return c},async create(a){let{data:c,error:d}=await b().from("treatment_records").insert([a]).select("*, treatments(name), dentists(name)").single();if(d)throw d;return c}},"treatmentService",0,{async getAll(){let{data:a,error:c}=await b().from("treatments").select("*").order("category",{ascending:!0});if(c)throw c;return a},async getById(a){let{data:c,error:d}=await b().from("treatments").select("*").eq("id",a).single();if(d)throw d;return c},async create(a){let{data:c,error:d}=await b().from("treatments").insert([a]).select().single();if(d)throw d;return c},async update(a,c){let{data:d,error:e}=await b().from("treatments").update({...c,updated_at:new Date}).eq("id",a).select().single();if(e)throw e;return d},async delete(a){let{error:c}=await b().from("treatments").delete().eq("id",a);if(c)throw c}}])},3316,a=>{"use strict";let b=(0,a.i(42308).default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);a.s(["CreditCard",()=>b],3316)},41222,a=>{"use strict";let b=(0,a.i(42308).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],41222)},53605,a=>{"use strict";var b=a.i(80332),c=a.i(54358),d=a.i(70478),e=a.i(69933),f=a.i(34520),g=a.i(55616),h=a.i(3316),i=a.i(55239),j=a.i(41222),k=a.i(25610),l=a.i(35924),m=a.i(63e3),n=a.i(85516),o=a.i(19589),p=a.i(65593);let q=(0,a.i(42308).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);function r({onSubmit:d,userEmail:e}){let f=(0,n.useRouter)(),[h,i]=(0,c.useState)({name:"",phone:""}),j=()=>{try{f.replace("/patient/dashboard")}catch(a){try{window.location.href="/patient/dashboard"}catch(a){}}setTimeout(()=>{},500)},[k,l]=(0,c.useState)(!1),[m,r]=(0,c.useState)(null),[s,t]=(0,c.useState)(null),u=a=>{let{name:b,value:c}=a.target;i(a=>({...a,[b]:c}))},v=async b=>{if(b.preventDefault(),r(null),t(null),!h.name.trim())return void r("Please enter your name");try{l(!0);let{patientService:b,appointmentService:c}=await a.A(68635),e=await b.getByName(h.name);if(e){let a=await c.getByPatientId(e.id);if(a&&a.length>0){t(a),r(null);return}throw Error(`Patient with name '${h.name}' already exists. Please use a different name.`)}await d(h.name,h.phone)}catch(a){r(a instanceof Error?a.message:"Failed to save profile"),console.error("[v0] Error in patient registration:",a)}finally{l(!1)}};return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-card rounded-lg shadow-2xl max-w-md w-full max-h-96 overflow-y-auto",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-border sticky top-0 bg-card flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-foreground",children:s?"Your Appointments":"Welcome to Mouthworks!"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:s?"Here are your scheduled appointments":"Complete your profile to get started"})]}),(0,b.jsx)("div",{className:"ml-4",children:(0,b.jsx)("button",{"aria-label":"Close",onClick:j,className:"p-2 rounded-md hover:bg-muted/50",children:(0,b.jsx)(p.X,{className:"w-5 h-5 text-muted-foreground"})})})]}),m&&(0,b.jsx)("div",{className:"p-4 bg-destructive/10 text-destructive text-sm border-b border-border",children:m}),s&&s.length>0?(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[s.map(a=>(0,b.jsx)("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition-colors",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(q,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-semibold text-foreground",children:a.service}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[(0,b.jsx)(g.Calendar,{className:"inline w-4 h-4 mr-1"}),new Date(a.date).toLocaleDateString()," at ",a.time]}),a.dentists&&(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Dr. ",a.dentists.name]}),(0,b.jsx)("p",{className:"text-xs mt-2 px-2 py-1 bg-muted rounded-full inline-block",children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]})]})},a.id)),(0,b.jsx)(o.Button,{onClick:j,className:"w-full mt-4 bg-primary hover:bg-primary/90 text-primary-foreground",children:"Go to Dashboard"})]}):(0,b.jsxs)("form",{onSubmit:v,className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Email"}),(0,b.jsx)("input",{type:"email",value:e,disabled:!0,className:"w-full px-3 py-2 border border-border rounded-lg bg-muted text-foreground cursor-not-allowed"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"text-sm font-medium text-foreground",children:["Full Name ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",name:"name",value:h.name,onChange:u,placeholder:"Enter your full name",className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-foreground",children:"Phone (Optional)"}),(0,b.jsx)("input",{type:"tel",name:"phone",value:h.phone,onChange:u,placeholder:"+1 234-567-8900",className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,b.jsx)("div",{className:"pt-2",children:(0,b.jsx)(o.Button,{type:"submit",disabled:k,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:k?"Checking...":"Complete Profile"})})]})]})})}function s(){let{user:a,showPatientRegistration:n,savePatientProfile:o,patientAutoApproved:p}=(0,d.useAuth)(),[q,s]=(0,c.useState)({upcomingCount:0,outstandingBalance:0,lastVisit:""}),[t,u]=(0,c.useState)([]),[v,w]=(0,c.useState)(!0);(0,c.useEffect)(()=>{(async()=>{try{if(!a?.id)return void w(!1);let b=[],c=[];try{b=await l.appointmentService.getByPatientId(a.id)||[]}catch(c){let a=c instanceof Error?c.message:JSON.stringify(c);console.error("[v0] Error loading appointments:",a,c),b=[]}try{c=await l.paymentService.getByPatientId(a.id)||[]}catch(b){let a=b instanceof Error?b.message:JSON.stringify(b);console.error("[v0] Error loading payments:",a,b),c=[]}let d=b?.filter(a=>"completed"!==a.status)?.length||0,e=c?.filter(a=>"paid"!==a.status)?.reduce((a,b)=>a+(b.amount||0),0)||0,f=b?.filter(a=>"completed"===a.status)||[],g=f.length>0?new Date(f[0].date).toLocaleDateString():"No visits yet";s({upcomingCount:d,outstandingBalance:e,lastVisit:g}),u(b?.slice(0,3)||[])}catch(a){console.error("[v0] Error loading dashboard:",a instanceof Error?a.message:a),s({upcomingCount:0,outstandingBalance:0,lastVisit:"No visits yet"}),u([])}finally{w(!1)}})()},[a?.id]);let x=[{label:"Dashboard",icon:(0,b.jsx)(i.LayoutDashboard,{className:"w-5 h-5"}),href:"/patient/dashboard"},{label:"My Appointments",icon:(0,b.jsx)(g.Calendar,{className:"w-5 h-5"}),href:"/patient/appointments"},{label:"My Profile",icon:(0,b.jsx)(j.User,{className:"w-5 h-5"}),href:"/patient/profile"},{label:"Payment History",icon:(0,b.jsx)(h.CreditCard,{className:"w-5 h-5"}),href:"/patient/payments"}];return(0,b.jsxs)(e.default,{navItems:x,title:"Patient Dashboard",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-primary to-accent rounded-lg p-6 text-primary-foreground",children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",a?.name,"!"]}),(0,b.jsx)("p",{className:"opacity-90",children:"Manage your dental appointments and health records"})]}),p&&(0,b.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:(0,b.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-green-900",children:"Your request has been approved!"}),(0,b.jsx)("p",{className:"text-sm text-green-700",children:"You're all set. You can now book appointments."})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)(f.Card,{className:"hover:shadow-md transition-shadow",children:[(0,b.jsx)(f.CardHeader,{className:"pb-3",children:(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Upcoming Appointments"})}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-primary",children:q.upcomingCount}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Scheduled appointments"})]})]}),(0,b.jsxs)(f.Card,{className:"hover:shadow-md transition-shadow",children:[(0,b.jsx)(f.CardHeader,{className:"pb-3",children:(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Outstanding Balance"})}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-destructive",children:(0,m.formatCurrency)(q.outstandingBalance)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Pending payments"})]})]}),(0,b.jsxs)(f.Card,{className:"hover:shadow-md transition-shadow",children:[(0,b.jsx)(f.CardHeader,{className:"pb-3",children:(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Last Visit"})}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-accent",children:q.lastVisit}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Most recent visit"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)(k.default,{href:"/patient/appointments",className:"block",children:(0,b.jsxs)(f.Card,{className:"hover:border-primary hover:shadow-md transition-all cursor-pointer h-full",children:[(0,b.jsx)(f.CardHeader,{className:"pb-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(g.Calendar,{className:"w-5 h-5 text-primary"}),(0,b.jsx)(f.CardTitle,{className:"text-lg",children:"Book Appointment"})]})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Schedule your next dental visit"})})]})}),(0,b.jsx)(k.default,{href:"/patient/payments",className:"block",children:(0,b.jsxs)(f.Card,{className:"hover:border-primary hover:shadow-md transition-all cursor-pointer h-full",children:[(0,b.jsx)(f.CardHeader,{className:"pb-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(h.CreditCard,{className:"w-5 h-5 text-primary"}),(0,b.jsx)(f.CardTitle,{className:"text-lg",children:"Payment Info"})]})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"View and manage your payments"})})]})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"Recent Appointments"}),(0,b.jsx)(f.CardDescription,{children:"Your last 3 appointments"})]}),(0,b.jsx)(f.CardContent,{children:v?(0,b.jsx)("div",{className:"text-center py-4 text-muted-foreground",children:"Loading..."}):0===t.length?(0,b.jsx)("div",{className:"text-center py-4 text-muted-foreground",children:"No appointments yet"}):(0,b.jsx)("div",{className:"space-y-4",children:t.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 border border-border rounded-lg hover:bg-muted/50 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(g.Calendar,{className:"w-4 h-4 text-primary"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:a.service}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[new Date(a.date).toLocaleDateString()," at ",a.time]})]})]}),(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:a.dentists?.name||"TBD"})]},a.id))})})]})]}),n&&a&&(0,b.jsx)(r,{userEmail:a.email,onSubmit:o})]})}a.s(["default",()=>s],53605)},68635,a=>{a.v(a=>Promise.resolve().then(()=>a(35924)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__50e4f97e._.js.map